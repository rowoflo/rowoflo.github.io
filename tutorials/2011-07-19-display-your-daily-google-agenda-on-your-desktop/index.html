<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Display Your Daily Google Agenda On Your Desktop &#8211; Rowland's Space</title>
<meta name="description" content="Just my personal website...">
<meta name="keywords" content="Bash, Google">

<!-- Twitter Cards -->
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://rowlandoflaherty.com/images/">
<meta name="twitter:title" content="Display Your Daily Google Agenda On Your Desktop">
<meta name="twitter:description" content="Just my personal website...">
<meta name="twitter:creator" content="@rowoflo">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Display Your Daily Google Agenda On Your Desktop">
<meta property="og:description" content="Just my personal website...">
<meta property="og:url" content="http://rowlandoflaherty.com/tutorials/2011-07-19-display-your-daily-google-agenda-on-your-desktop/index.html">
<meta property="og:site_name" content="Rowland's Space">





<link rel="canonical" href="http://rowlandoflaherty.com/tutorials/2011-07-19-display-your-daily-google-agenda-on-your-desktop/">
<link href="http://rowlandoflaherty.com/feed.xml" type="application/atom+xml" rel="alternate" title="Rowland's Space Feed">
<link rel="author" href="https://google.com/+RowlandOFlaherty?rel=author">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="http://rowlandoflaherty.com/assets/css/main.min.css">
<!-- Webfonts -->
<link href="http://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic" rel="stylesheet" type="text/css">

<meta http-equiv="cleartype" content="on">

<!-- Load Modernizr -->
<script src="http://rowlandoflaherty.com/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://rowlandoflaherty.com/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://rowlandoflaherty.com/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://rowlandoflaherty.com/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://rowlandoflaherty.com/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://rowlandoflaherty.com/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://rowlandoflaherty.com/images/apple-touch-icon-144x144-precomposed.png">




<style type="text/css">body {background-image:url(http://rowlandoflaherty.com/images/background_darkTriangles.png);}</style>


</head>

<body id="page" class="feature">

<!--[if lt IE 9]><div class="upgrade"><strong><a href="http://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
<nav id="dl-menu" class="dl-menuwrapper" role="navigation">
	<button class="dl-trigger">Open Menu</button>
	<ul class="dl-menu">
		<li><a href="http://rowlandoflaherty.com">Home</a></li>
		<li>
			<a href="#">About</a>
			<ul class="dl-submenu">
				<li>
					<img src="http://rowlandoflaherty.com/images/Rowland_Cartoon_Profile.jpg" alt="Rowland O'Flaherty photo" class="author-photo">
					<h4>Rowland O'Flaherty</h4>
					<p>Just your average roboticist trying to build the machines of tomorrow.</p>
				</li>
				<li><a href="http://rowlandoflaherty.com/about/">Learn More &#187</a></li>
				
				<li>
					<a href="http://twitter.com/rowoflo"><i class="fa fa-twitter"></i> Twitter</a>
				</li>
				<li>
					<a href="http://facebook.com/rowland.oflaherty"><i class="fa fa-facebook"></i> Facebook</a>
				</li>
				<li>
					<a href="https://google.com/+RowlandOFlaherty"><i class="fa fa-google-plus"></i> Google+</a>
				</li>
				<li>
					<a href="http://linkedin.com/in/rowlandoflaherty"><i class="fa fa-linkedin"></i> LinkedIn</a>
				</li>
				<li>
					<a href="http://github.com/rowoflo"><i class="fa fa-github"></i> GitHub</a>
				</li>
				
				<li>
					<a href="http://instagram.com/rowoflo"><i class="fa fa-instagram"></i> Instagram</a>
				</li>
				<li>
					<a href="http://www.flickr.com/photos/rowoflo"><i class="fa fa-flickr"></i> Flickr</a>
				</li>
				
			</ul><!-- /.dl-submenu -->
		</li>
		<li>
			<a href="#">Posts</a>
			<ul class="dl-submenu">
				<li><a href="http://rowlandoflaherty.com/posts/">All Posts</a></li>
				<li><a href="http://rowlandoflaherty.com/tags/">All Tags</a></li>
			</ul>
		</li>
		<li><a href="http://rowlandoflaherty.com/tutorials.html">Tutorials</a></li><li><a href="http://rowlandoflaherty.com/projects/">Projects</a></li>
	</ul><!-- /.dl-menu -->
</nav><!-- /.dl-menuwrapper -->

<!-- Banner image -->
<div class="entry-header">
  <div class="entry-image">
    <img src="http://rowlandoflaherty.com/images/rowland_web_banner.jpg" alt="Display Your Daily Google Agenda On Your Desktop">
  </div><!-- /.entry-image -->
</div><!-- /.entry-header -->


<div id="main" role="main">
  <article class="entry">
    <header class="header-title">
      <div class="header-title-wrap">
        <h1 class="entry-title">Display Your Daily Google Agenda On Your Desktop</h1>
        
        <p class="entry-reading-time">
          <i class="fa fa-clock-o"></i>
          
          Reading time ~4 minutes
        </p><!-- /.entry-reading-time -->
        
      </div><!-- /.header-title-wrap -->
    </header>
    <div class="entry-content">
      
      <div class="article-image">
        <img src=https://farm6.staticflickr.com/5597/15441753646_9ab2edec9b_o.jpg>
      </div>
      
      <p>Ever wanted to quickly see what you have planned for the day without having to pull up your browser, your calendar client, or your smart phone. Wouldn’t be nice if your events were listed automatically right on your desktop. Well you have come to the right place because here is where I will show you how to automatically display your agenda for the day on your desktop. In doing this you will get introduced to <a href="http://projects.tynsoe.org/en/geektool/">GeekTool</a>, <a href="http://code.google.com/p/cronnix/">CronniX</a>, and <a href="http://code.google.com/p/googlecl/">GoogleCL</a>.</p>

<!-- more -->

<p>The way this is going to work is that <a href="http://code.google.com/p/cronnix/">CronniX</a> will be used to schedule <a href="http://en.wikipedia.org/wiki/Cron">cron</a> to run a bash script that uses <a href="http://code.google.com/p/googlecl/">GoogleCL</a> commands to download your calendar events for today and tomorrow. Then <a href="http://projects.tynsoe.org/en/geektool/">GeekTool</a> is used to display that text on your desktop.</p>

<ul>
  <li>
    <p>Download and install all the necessary tools.</p>

    <ul>
      <li>
        <p>Dowland GeekTool from <a href="http://projects.tynsoe.org/en/geektool/download.php">here</a>. Double click to install this preference pane tool. (I suggest to keep the uninstall apps of all the applications you install in one location. I created the folder “/Applications/Uninstall Apps” for this task.)</p>
      </li>
      <li>
        <p>Download CronniX from <a href="http://www.macupdate.com/app/mac/7486/cronnix">here</a>. Install by unzipping and dragging the app to your Applications folder.</p>
      </li>
      <li>
        <p>Download GoogleCL from <a href="http://code.google.com/p/googlecl/downloads/list">here</a>. Also you will need to download gdata-python–client from <a href="http://code.google.com/p/gdata-python-client/downloads/list">here</a>. For both, choose the latest zip file to download then unzip them in your downloads folder. To install, open up the terminal (/Applications/Utilities/Terminal.app) and type in the following commands.</p>
      </li>
    </ul>

    <p><code>cd ~/Downloads/gdata-2.0.13</code></p>

    <p><code>sudo python setup.py install</code></p>

    <p><code>cd ~/Downloads/googlecl-0.9.11</code></p>

    <p><code>sudo python setup.py install</code></p>

    <ul>
      <li>Make sure to use the version numbers of the files you downloaded, which may be different than what is shown in the commands above.</li>
    </ul>
  </li>
  <li>
    <p>Authenticate GoogleCL for Google calendar by running the following command in the terminal.</p>
  </li>
</ul>

<p><code>google calendar today</code></p>

<p>Enter your Google username. This will open a webpage to authenticate this application. Hit the “Grant Access” button and then in the next page copy the key to your terminal prompt and hit <code>enter</code>. This has to be done for each Google service but only once on the first time you use it. Check out GoogleCL <a href="http://code.google.com/p/googlecl/wiki/ExampleScripts#list-groups">example scripts</a> and the GoogleCL <a href="http://code.google.com/p/googlecl/wiki/Manual">manual</a>.</p>

<ul>
  <li>
    <p>Create a Bash script to fetch your Google calendar information for today and tomorrow using the GoogleCL commands. Type the following commands into the terminal.</p>

    <p><code>cd ~/Desktop</code></p>

    <p><code>mkdir GoogleCalOnDesktop</code></p>

    <p><code>cd GoogleCalOnDesktop</code></p>

    <p><code>touch getGoogleCalendarInfo.sh</code></p>

    <p><code>chmod 744 getGoogleCalendarInfo.sh</code></p>

    <p><code>emacs getGoogleCalendarInfo.sh</code></p>
  </li>
</ul>

<p>Copy the following commands into the emacs editor.</p>

<p><code>outputFolder=~/Desktop/GoogleCalOnDesktop</code></p>

<p><code>outputFileName=geekToolGoogleCalendar.txt</code></p>

<p><code>outputFile=$outputFolder/$outputFileName</code></p>

<p><code>tmpFileName=tmpGeekToolGoogleCalendar.txt</code></p>

<p><code>tmpFile=$outputFolder/$tmpFileName</code></p>

<p><code>today=$(date +%Y-%m-%d)</code></p>

<p><code>tomorrow=$(date -v +1d +%Y-%m-%d)</code></p>

<p><code>echo "Today $today" &gt; $tmpFile</code></p>

<p><code>google calendar --cal _"Your Calendar Name Here"_ --date $today list &gt;&gt; $tmpFile</code></p>

<p><code>sed -e '/^ *$/d;/_"Your Calendar Name Here"_/d' $tmpFile &gt; $outputFile</code></p>

<p><code>echo -e "\n" &gt;&gt; $outputFile</code></p>

<p><code>echo "Tomorrow $tomorrow" &gt; $tmpFile</code></p>

<p><code>google calendar --cal _"Your Calendar Name Here"_ --date $tomorrow list &gt;&gt; $tmpFile</code></p>

<p><code>sed -e '/^ *$/d;/_"Your Calendar Name Here"_/d' $tmpFile &gt;&gt; $outputFile</code></p>

<p><code>rm $tmpFile</code></p>

<p>To exit and save in emacs press <code>ctrl-x</code> then <code>ctrl-c</code> and then <code>y</code> and finally <code>enter</code>. The sed commands above are used to remove the name of the calendar and a couple of blank lines. Also note that the folder doesn’t have to be on your desktop but can be placed anywhere you like.</p>

<ol>
  <li>Next have <a href="http://en.wikipedia.org/wiki/Cron">cron</a> run the shell script above every 5 minutes. Use the CronniX to configure your cron table file. To do this open up CronniX (/Applications/CronniX) and click the “New” button on the toolbar. Under “Min” write <code>*/5</code> and under “Command” write the command below.</li>
</ol>

<p><code>~/Desktop/GoogleCalOnDesktop/getGoogleCalendarInfo.sh &gt; /dev/null 2&gt;&amp;1</code></p>

<p>The last part of the command gets rid of any outputs produced by errors. Save this task and exit CronniX.</p>

<ul>
  <li>
    <p>If you don’t want to use CronniX you can edit your cron table manually with the command below.</p>

    <p><code>crontab -e</code></p>
  </li>
</ul>

<ol>
  <li>Open up the GeekTool preference pane in the System Preferences and drag the “Shell” icon to the desktop. Set this “Geeklet” to refresh every 300 seconds and enter the command below in the “Command:” text field.</li>
</ol>

<p><code>cat ~/Desktop/GoogleCalOnDesktop/geekToolGoogleCalendar.txt</code></p>

<p>Maybe give it a name and edit the font to your desire. Close GeekTool and you should be all set.</p>

      <footer class="entry-meta">
        Display Your Daily Google Agenda On Your Desktop was last modified on <span class="entry-date date modified"><time datetime="2011-07-19">2011-07-19</time></span>
        <span class="author vcard fn">Rowland O'Flaherty</span>
        <div class="social-share">
          <ul class="socialcount socialcount-small inline-list" data-url="http://rowlandoflaherty.com/tutorials/2011-07-19-display-your-daily-google-agenda-on-your-desktop/index.html" data-share-text="Display Your Daily Google Agenda On Your Desktop">
            <li class="facebook"><a href="https://www.facebook.com/sharer/sharer.php?u=http://rowlandoflaherty.com/tutorials/2011-07-19-display-your-daily-google-agenda-on-your-desktop/index.html" title="Share on Facebook"><span class="count"><i class="fa fa-facebook-square"></i> Like</span></a></li>
            <li class="twitter"><a href="https://twitter.com/intent/tweet?text=http://rowlandoflaherty.com/tutorials/2011-07-19-display-your-daily-google-agenda-on-your-desktop/index.html" title="Share on Twitter"><span class="count"><i class="fa fa-twitter-square"></i> Tweet</span></a></li>
            <li class="googleplus"><a href="https://plus.google.com/share?url=http://rowlandoflaherty.com/tutorials/2011-07-19-display-your-daily-google-agenda-on-your-desktop/index.html" title="Share on Google Plus"><span class="count"><i class="fa fa-google-plus-square"></i> +1</span></a></li>
          </ul>
        </div><!-- /.social-share -->
      </footer>
    </div><!-- /.entry-content -->
    
  </article>
</div><!-- /#main -->

<div class="footer-wrapper">
  <footer role="contentinfo">
    <span>&copy; 2015 Rowland O'Flaherty. Powered by <a href="http://jekyllrb.com">Jekyll</a> using the <a href="http://mademistakes.com/hpstr/">HPSTR Theme</a>.</span>
  </footer>
</div><!-- /.footer-wrapper -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://rowlandoflaherty.com/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://rowlandoflaherty.com/assets/js/scripts.min.js"></script>

<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = ''; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

</body>
</html>
